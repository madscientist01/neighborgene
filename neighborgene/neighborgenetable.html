<!DOCTYPE html>
<html>
    <head>
        <title>{{params['filename']}}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset='utf-8'>
    </head>
    <script type="text/javascript" charset="utf8" src="{0}"></script>

        <!-- BootStrap CSS -->
        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <!-- jQuery -->
        <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"></script>
        
        <script src="httP://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
        <!-- DataTables -->
        <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>

        <script>
        $(document).ready(function(){       
           
                $('#listtable').dataTable({
                    "sDom": "<'row'<'span8'l>r>t<'row'<'span8'i><'span8'p>>",
                     "aLengthMenu": [[25, 50, 100, 200, -1], [25, 50, 100, 200, "All"]],
                     "iDisplayLength": -1,
                     "aoColumnDefs": [
                      { "sWidth": "60px", "aTargets": [ 0 ] },
                     { "sWidth": "20px", "aTargets": [ 1 ] },           
                     ]                                    
                    });
        });
        </script>
                  
        <style>
          <style>
            table{
                font-family: "Arial",Sans-Serif;
                font-size: 10px;
                margin: 40px;
                width:1000px;
                text-align: left;
                border-collapse: collapse;  
                }
            .scrollable {
            height: 100%;
            overflow: auto;
            }
            div.head {
                width:800px;
                font-family: Sans-Serif;
                font-size: 14px;
                border:3px solid #EEEEEE;
                border-radius: 10px;
                padding: 10px;
                align :center;
                background-color: #FFFFFF;
                }
           div.dataTables_length label {
                width: 460px;
                float: left;
                text-align: left;
            }
             
            div.dataTables_length select {
                width: 75px;
            }
             
            div.dataTables_filter label {
                float: right;
                width: 460px;
            }
             
            div.dataTables_info {
                padding-top: 8px;
            }
             
            div.dataTables_paginate {
                float: right;
                margin: 0;
            }
            
            div.padding {

                padding-left:10px;
            }
            table {
                clear: both;
            }
                /*
                 * Table
                 */
                table.dataTable {
                    margin: 0 auto;
                    clear: both;
                    width: 100%;
                }

                table.dataTable thead th {
                    padding: 3px 18px 3px 10px;
                    background-color:#DDDDDD;
                    border-bottom: 1px solid black;
                    font-weight: bold;
                    cursor: pointer;
                    *cursor: hand;
                }

                table.dataTable tfoot th {
                    padding: 3px 18px 3px 10px;
                    border-top: 1px solid black;
                    font-weight: bold;
                }

                table.dataTable td {
                    padding: 3px 10px;
                }

                table.dataTable td.center,
                table.dataTable td.dataTables_empty {
                    text-align: center;
                }

               /* table.dataTable tr.odd { background-color: #DDDDDD; }
                table.dataTable tr.even { background-color: white; }

                table.dataTable tr.odd td.sorting_1 { background-color: #DDDDDD; }
                table.dataTable tr.odd td.sorting_2 { background-color: #DDDDDD; }
                table.dataTable tr.odd td.sorting_3 { background-color: #DDDDDD; }
                table.dataTable tr.even td.sorting_1 { background-color: #DDDDDD; }
                table.dataTable tr.even td.sorting_2 { background-color: #DDDDDD; }
                table.dataTable tr.even td.sorting_3 { background-color: #DDDDDD; }
*/

                /*
                 * Table wrapper
                 */
                .dataTables_wrapper {
                    position: relative;
                    clear: both;
                    *zoom: 1;
                }

                /*
                 * Page length menu
                 */
                .dataTables_length {
                    float: left;
                }

                /*
                 * Filter
                 */
                .dataTables_filter {
                    float: right;
                    text-align: right;
                }


                /*
                 * Table information
                 */
                .dataTables_info {
                    clear: both;
                    float: left;
                }


                /*
                 * Pagination
                 */
                .dataTables_paginate {
                    float: right;
                    text-align: right;
                }

                /* Two button pagination - previous / next */
                .paginate_disabled_previous,
                .paginate_enabled_previous,
                .paginate_disabled_next,
                .paginate_enabled_next {
                    height: 19px;
                    float: left;
                    cursor: pointer;
                    *cursor: hand;
                    color: #111 !important;
                }
                .paginate_disabled_previous:hover,
                .paginate_enabled_previous:hover,
                .paginate_disabled_next:hover,
                .paginate_enabled_next:hover {
                    text-decoration: none !important;
                }
                .paginate_disabled_previous:active,
                .paginate_enabled_previous:active,
                .paginate_disabled_next:active,
                .paginate_enabled_next:active {
                    outline: none;
                }

                .paginate_disabled_previous,
                .paginate_disabled_next {
                    color: #666 !important;
                }
                .paginate_disabled_previous,
                .paginate_enabled_previous {
                    padding-left: 23px;
                }
                .paginate_disabled_next,
                .paginate_enabled_next {
                    padding-right: 23px;
                    margin-left: 10px;
                }

                .paginate_enabled_previous { background: url('../images/back_enabled.png') no-repeat top left; }
                .paginate_enabled_previous:hover { background: url('../images/back_enabled_hover.png') no-repeat top left; }
                .paginate_disabled_previous { background: url('../images/back_disabled.png') no-repeat top left; }
                .paginate_enabled_next { background: url('../images/forward_enabled.png') no-repeat top right; }
                .paginate_enabled_next:hover { background: url('../images/forward_enabled_hover.png') no-repeat top right; }
                .paginate_disabled_next { background: url('../images/forward_disabled.png') no-repeat top right; }

                /* Full number pagination */
                .paging_full_numbers {
                    height: 22px;
                    line-height: 22px;
                }
                .paging_full_numbers a:active {
                    outline: none
                }
                .paging_full_numbers a:hover {
                    text-decoration: none;
                }

                .paging_full_numbers a.paginate_button,
                .paging_full_numbers a.paginate_active {
                    border: 1px solid #aaa;
                    -webkit-border-radius: 5px;
                    -moz-border-radius: 5px;
                    border-radius: 5px;
                    padding: 2px 5px;
                    margin: 0 3px;
                    cursor: pointer;
                    *cursor: hand;
                    color: #333 !important;
                }

                .paging_full_numbers a.paginate_button {
                    background-color: #ddd;
                }

                .paging_full_numbers a.paginate_button:hover {
                    background-color: #ccc;
                    text-decoration: none !important;
                }

                .paging_full_numbers a.paginate_active {
                    background-color: #99B3FF;
                }

                .dataTables_processing {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    width: 250px;
                    height: 30px;
                    margin-left: -125px;
                    margin-top: -15px;
                    padding: 14px 0 2px 0;
                    border: 1px solid #ddd;
                    text-align: center;
                    color: #999;
                    font-size: 14px;
                    background-color: white;
                }

                .sorting { background: url('../images/sort_both.png') no-repeat center right; }
                .sorting_asc { background: url('../images/sort_asc.png') no-repeat center right; }
                .sorting_desc { background: url('../images/sort_desc.png') no-repeat center right; }

                .sorting_asc_disabled { background: url('../images/sort_asc_disabled.png') no-repeat center right; }
                .sorting_desc_disabled { background: url('../images/sort_desc_disabled.png') no-repeat center right; }
                 
                table.dataTable thead th:active,
                table.dataTable thead td:active {
                    outline: none;
                }
                .dataTables_scroll {
                    clear: both;
                }
                .dataTables_scrollBody {
                    *margin-top: -1px;
                    -webkit-overflow-scrolling: touch;
                }

            </style>
        <body>
        {% macro condition (clust) %}
                {% if clust == params['standardCluster'] %} 
                    <tr class="error">
                {% else %}
                    <tr>
                {% endif %}
        {% endmacro %}
        <div class="navbar navbar-inverse navbar-fixed-top">
          <div class="navbar-inner">
            <div class="container-fluid">
              <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
              <a class="brand" href="#neighborgene">NeighborGene</a>
              <div class="nav-collapse collapse">
                <ul class="nav">
                  <li class="active"><a href="#annotations">Gene Annotations</a></li>
                  <li><a href="#clusters">Cluster Distribition</a></li>
                  <li><a href="#orf">ORF Map</a></li>
                </ul>
              </div><!--/.nav-collapse -->
            </div>
          </div>
        </div>
        <a name="neighborgene" id ="neighborgene"></a>
        <div class=row>
            <div class="hero-unit">
                <h2>NeighborGene search for {{params['filename']}}</h2>
                <p>Database searched  <span class="label label-info">{{params['searchdb']}}</span> 
                   Genes Founded : <span class="label label-info">{{params['clusterNumber']}}</span>
                   Species Founded : <span class="label label-info">{{params['speciesNumber']}}</span>    
                   Cluster Founded : <span class = "label label-info">{{params['clusterNumber']}}</span>   
                   The Query Sequence is belong to : <span class = "label label-info">{{params['standardCluster']}}</span>    
               </p>
            </div>
        </div>    
        <div class=row>
        <div class=span1>
        </div>
        <div class=span11>
            <table id='listtable' class='table table-striped table-bordered table-hover'>
            <a name="annotations" id ="annotations"></a>
            <thead>
                <tr>
                    {% for name in headers %}
                    <td>{{ name }}</td>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for cluster in clusters %}
                {{ condition(cluster['clust']) }}
                    <td>
                        {{cluster['clusterName']}}            
                    </td>
                    <td>
                        {{cluster['clusterMemberNo']}}
                    </td>
                    <td>
                       {{cluster['annotationDescriptions']}}
                    </td>
                    <td>
                       {{cluster['tableDescriptions']}}
                    </td>
                    <td>
                       {{cluster['clusterStat']}}
                    </td>                      
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
        </div>
        <div class=row>
            <a name="clusters" id ="clusters"></a>
            <div class="span4">
                {{ clusterTableLabel }}
            </div>
            <div class="scrollable">
                {{ clusterTableSVG }}
            </div>    
        </div>
        
        <div class=row>
            <a name="orf" id ="orf"></a>
            <div class="span4">
               {% for svg in svgList %}
                <div>
                {{svg['label']}}
                </div>
                {% endfor %} 
            </div>
            <div class="scrollable">
            {% for svg in svgList %}
                <div class="domain" id="{{svg['id']}}">
                    {{svg['content']}}
                </div>
            {% endfor %}
            </div>    
        </div>


    </body>